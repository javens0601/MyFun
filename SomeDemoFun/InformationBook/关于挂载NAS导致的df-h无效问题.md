## *df -h* 系统无反应 

在今天遇到一个奇怪的事情，在Terminal输入 ***df -h*** 命令后无反应，于是输入 ***Ctrl + c*** 亦无反应，后台似乎在执行某种长时间的操作导致命令无反应。   

此时内心回忆，就在昨天早上的时候，因为NAS服务器磁盘空间满了，于是我删除了NAS上面的文件，一顿操作猛如虎，就像平时删除过期的日志文件一样

	find -mtime +10 -exec rm -rf {} \;

果然还是太年轻，太冲动，挂载的本机的NAS路径也被删除了，顿时内心焦急，于是迅速找到以前的路径规划文档，按照目录进行重建。

	mkdir 

感觉就是因为重建的路径出了问题才导致后面的闹剧。无奈找度娘，果然查到的问题和我的想法一致，是 NAS 出的问题。于是使用 ***strace*** 查看操作过程，可以清楚的看到在某一路径进行寻址时候卡住不动了。

	strace df -h 

按照网上找到的大牛的操作来一遍，显示查看有挂载了哪一些目录

	mount -l

然后把挂载的目录去掉了

	umount -l

问题似乎并没有完全解决，于是内心大胆想法，直接重启了机器（当然了是我们的测试环境，生产可不会如此大胆）

	reboot 

重启之后发现问题大了，所有挂的路径都在重启之后掉了。( ***懵逼脸.JPG*** ），第一次搞NAS，没想到居然还存这样的问题，于是乖乖重新挂载

	mount -t nfs -o nfservers=3 192.168.0.1:/app/dir/ /app/dir/

果然还是万能的重启，问题终于解决了，但是并不知为何挂了NAS会出现这样的问题，这个留着以后在研究吧！
